<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hextech Impostor</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #c8aa6e; --dark-blue: #010a13; --border: #785a28; }
        body { 
            background: linear-gradient(rgba(1, 10, 19, 0.9), rgba(1, 10, 19, 0.9)), 
                        url('https://theme.zdassets.com/hc/theme_assets/43400/200155010/summoners_rift.jpg');
            background-size: cover; background-position: center; color: #f0e6d2; 
            font-family: 'Montserrat', sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; 
        }
        #game-area { background: rgba(10, 20, 40, 0.95); border: 1px solid var(--border); padding: 40px; border-radius: 2px; text-align: center; width: 500px; box-shadow: 0 10px 50px rgba(0,0,0,0.5); }
        h1 { color: var(--gold); text-transform: uppercase; letter-spacing: 5px; font-weight: 700; margin-bottom: 30px; }
        input, select { background: transparent; color: #fff; border: 1px solid var(--border); padding: 12px; width: 70%; margin-bottom: 10px; outline: none; }
        option { background: var(--dark-blue); }
        button { background: var(--dark-blue); color: var(--gold); border: 1px solid var(--border); padding: 10px 18px; cursor: pointer; text-transform: uppercase; font-weight: 700; transition: all 0.3s ease; margin: 5px; }
        button:hover:not(:disabled) { background: var(--gold); color: var(--dark-blue); }
        button:disabled { opacity: 0.2; cursor: not-allowed; }
        .player-list { margin: 20px 0; font-size: 0.9rem; color: #a09b8c; }
        .secret-box { border: 1px solid var(--border); padding: 30px; margin: 20px 0; background: rgba(0,0,0,0.3); }
        img { width: 160px; border: 1px solid var(--gold); margin-top: 15px; }
        .vote-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid rgba(120, 90, 40, 0.3); }
        .hidden { display: none; }
        .speaker-alert { color: var(--gold); font-weight: bold; padding: 15px; border: 1px solid var(--gold); margin: 20px 0; }
    </style>
</head>
<body>
<div id="game-area"><div id="ui-content"></div></div>

<script>
    let players = [];
    let votes = {};
    let totalVotesCast = 0;
    let currentPlayerIndex = 0;
    let impostorIndex = -1;
    let targetChamp = null;
    let clueCount = 1;

    const CHAMPION_POOL = [
        { name: "Aatrox", region: "Runeterra", gender: "Male", weapon: "Heavy Blade", range: "Melee", color: "Red", passive: "Deathbringer Stance", q: "The Darkin Blade", w: "Infernal Chains", e: "Umbral Dash", r: "World Ender" },
        { name: "Ahri", region: "Ionia", gender: "Female", weapon: "Energy Orb", range: "Ranged", color: "Blue", passive: "Essence Theft", q: "Orb of Deception", w: "Fox-Fire", e: "Charm", r: "Spirit Rush" },
        { name: "Akali", region: "Ionia", gender: "Female", weapon: "Bladed Tools", range: "Melee", color: "Green", passive: "Assassin's Mark", q: "Five Point Strike", w: "Twilight Shroud", e: "Shuriken Flip", r: "Perfect Execution" },
        { name: "Akshan", region: "Shurima", gender: "Male", weapon: "Grappling Hook Gun", range: "Ranged", color: "Gold", passive: "Dirty Fighting", q: "Avengerang", w: "Going Rogue", e: "Heroic Swing", r: "Comeuppance" },
        { name: "Alistar", region: "Runeterra", gender: "Male", weapon: "Natural Horns", range: "Melee", color: "Purple", passive: "Triumphant Roar", q: "Pulverize", w: "Headbutt", e: "Trample", r: "Unbreakable Will" },
        { name: "Amumu", region: "Shurima", gender: "Male", weapon: "Bandages", range: "Melee", color: "Cyan", passive: "Cursed Touch", q: "Bandage Toss", w: "Despair", e: "Tantrum", r: "Curse of the Sad Mummy" },
        { name: "Anivia", region: "Freljord", gender: "Female", weapon: "Ice Magic", range: "Ranged", color: "Ice Blue", passive: "Rebirth", q: "Flash Frost", w: "Crystallize", e: "Frostbite", r: "Glacial Storm" },
        { name: "Annie", region: "Noxus", gender: "Female", weapon: "Fire Magic", range: "Ranged", color: "Orange", passive: "Pyromania", q: "Disintegrate", w: "Incinerate", e: "Molten Shield", r: "Summon: Tibbers" },
        { name: "Aphelios", region: "Targon", gender: "Male", weapon: "Moonlight Arsenal", range: "Ranged", color: "Lavender", passive: "The Hitman and the Seer", q: "Moonshot", w: "Phase", e: "Weapon Swap", r: "Moonlight Vigil" },
        { name: "Ashe", region: "Freljord", gender: "Female", weapon: "Bow", range: "Ranged", color: "Cyan", passive: "Frost Shot", q: "Ranger's Focus", w: "Volley", e: "Hawkshot", r: "Enchanted Crystal Arrow" },
        { name: "Aurelion Sol", region: "Runeterra", gender: "Male", weapon: "Cosmic Breath", range: "Ranged", color: "Deep Blue", passive: "Cosmic Creator", q: "Breath of Light", w: "Astral Flight", e: "Singularity", r: "Falling Star" },
        { name: "Azir", region: "Shurima", gender: "Male", weapon: "Sand Soldiers", range: "Ranged", color: "Gold", passive: "Shurima's Legacy", q: "Conquering Sands", w: "Arise!", e: "Shifting Sands", r: "Emperor's Divide" },
        { name: "Bard", region: "Runeterra", gender: "Male", weapon: "Cosmic Chimes", range: "Ranged", color: "Gold/Teal", passive: "Traveler's Call", q: "Cosmic Binding", w: "Caretaker's Shrine", e: "Magical Journey", r: "Tempered Fate" },
        { name: "Bel'Veth", region: "Void", gender: "Female", weapon: "Physical Limbs", range: "Melee", color: "Magenta", passive: "Death in Lavender", q: "Void Surge", w: "Above and Below", e: "Royal Maelstrom", r: "Endless Banquet" },
        { name: "Blitzcrank", region: "Zaun", gender: "Male", weapon: "Mechanical Claw", range: "Melee", color: "Yellow", passive: "Mana Barrier", q: "Rocket Grab", w: "Overdrive", e: "Power Fist", r: "Static Field" },
        { name: "Brand", region: "Runeterra", gender: "Male", weapon: "Fire Energy", range: "Ranged", color: "Orange", passive: "Blaze", q: "Sear", w: "Pillar of Flame", e: "Conflagration", r: "Pyroclasm" },
        { name: "Braum", region: "Freljord", gender: "Male", weapon: "Shield", range: "Melee", color: "Light Blue", passive: "Concussive Blows", q: "Winter's Bite", w: "Stand Behind Me", e: "Unbreakable", r: "Glacial Fissure" },
        { name: "Caitlyn", region: "Piltover", gender: "Female", weapon: "Firearm", range: "Ranged", color: "Purple", passive: "Headshot", q: "Piltover Peacemaker", w: "Yordle Snap Trap", e: "90 Caliber Net", r: "Ace in the Hole" },
        { name: "Camille", region: "Piltover", gender: "Female", weapon: "Bladed Legs", range: "Melee", color: "Silver", passive: "Adaptive Defenses", q: "Precision Protocol", w: "Tactical Sweep", e: "Hookshot", r: "The Hextech Ultimatum" },
        { name: "Cassiopeia", region: "Noxus", gender: "Female", weapon: "Snake Venom", range: "Ranged", color: "Dark Green", passive: "Serpentine Grace", q: "Noxious Blast", w: "Miasma", e: "Twin Fang", r: "Petrifying Gaze" },
        { name: "Cho'Gath", region: "Void", gender: "Male", weapon: "Claws/Teeth", range: "Melee", color: "Purple", passive: "Carnivore", q: "Rupture", w: "Feral Scream", e: "Vorpal Spikes", r: "Feast" },
        { name: "Corki", region: "Bandle City", gender: "Male", weapon: "Hextech Plane", range: "Ranged", color: "Brown", passive: "Hextech Munitions", q: "Phosphorus Bomb", w: "Valkyrie", e: "Gatling Gun", r: "Missile Barrage" },
        { name: "Darius", region: "Noxus", gender: "Male", weapon: "Battleaxe", range: "Melee", color: "Dark Red", passive: "Hemorrhage", q: "Decimate", w: "Crippling Strike", e: "Apprehend", r: "Noxian Guillotine" },
        { name: "Diana", region: "Targon", gender: "Female", weapon: "Moonblade", range: "Melee", color: "White/Silver", passive: "Moonsilver Blade", q: "Crescent Strike", w: "Pale Cascade", e: "Lunar Rush", r: "Moonfall" },
        { name: "Dr. Mundo", region: "Zaun", gender: "Male", weapon: "Cleaver", range: "Melee", color: "Purple/Grey", passive: "Goes Where He Pleases", q: "Infected Bonesaw", w: "Heart Zapper", e: "Blunt Force Trauma", r: "Maximum Dosage" },
        { name: "Draven", region: "Noxus", gender: "Male", weapon: "Spinning Axes", range: "Ranged", color: "Orange/Gold", passive: "League of Draven", q: "Spinning Axe", w: "Blood Rush", e: "Stand Aside", r: "Whirling Death" },
        { name: "Ekko", region: "Zaun", gender: "Male", weapon: "Time Bat", range: "Melee", color: "Teal", passive: "Z-Drive Resonance", q: "Timewinder", w: "Parallel Convergence", e: "Phase Dive", r: "Chronobreak" },
        { name: "Elise", region: "Shadow Isles", gender: "Female", weapon: "Spider Form", range: "Ranged", color: "Black", passive: "Spider Queen", q: "Neurotoxin", w: "Volatile Spiderling", e: "Cocoon", r: "Spider Form" },
        { name: "Evelynn", region: "Runeterra", gender: "Female", weapon: "Shadow Lashes", range: "Melee", color: "Magenta", passive: "Demon Shade", q: "Hate Spike", w: "Allure", e: "Whiplash", r: "Last Caress" },
        { name: "Ezreal", region: "Piltover", gender: "Male", weapon: "Gauntlet", range: "Ranged", color: "Gold", passive: "Rising Spell Force", q: "Mystic Shot", w: "Essence Flux", e: "Arcane Shift", r: "Trueshot Barrage" },
        { name: "Fiddlesticks", region: "Runeterra", gender: "Male", weapon: "Scythe", range: "Ranged", color: "Dark Brown", passive: "A Harmless Scarecrow", q: "Terrify", w: "Bountiful Harvest", e: "Reap", r: "Crowstorm" },
        { name: "Fiora", region: "Demacia", gender: "Female", weapon: "Rapier", range: "Melee", color: "Royal Blue", passive: "Duelist's Dance", q: "Lunge", w: "Riposte", e: "Bladework", r: "Grand Challenge" },
        { name: "Fizz", region: "Bilgewater", gender: "Male", weapon: "Trident", range: "Melee", color: "Cyan", passive: "Nimble Fighter", q: "Urchin Strike", w: "Seastone Trident", e: "Playful / Trickster", r: "Chum the Waters" },
        { name: "Galio", region: "Demacia", gender: "Male", weapon: "Stone Fists", range: "Melee", color: "White/Gold", passive: "Colossal Smash", q: "Winds of War", w: "Shield of Durand", e: "Justice Punch", r: "Hero's Entrance" },
        { name: "Gangplank", region: "Bilgewater", gender: "Male", weapon: "Cutlass/Pistol", range: "Melee", color: "Deep Brown", passive: "Trial by Fire", q: "Parrrley", w: "Remove Scurvy", e: "Powder Cannon", r: "Cannon Barrage" },
        { name: "Garen", region: "Demacia", gender: "Male", weapon: "Greatsword", range: "Melee", color: "Blue/Gold", passive: "Perseverance", q: "Decisive Strike", w: "Courage", e: "Judgment", r: "Demacian Justice" },
        { name: "Gnar", region: "Freljord", gender: "Male", weapon: "Boomerang", range: "Ranged", color: "Orange/Tan", passive: "Rage Gene", q: "Boomerang Throw", w: "Hyper", e: "Hop", r: "GNAR!" },
        { name: "Gragas", region: "Freljord", gender: "Male", weapon: "Cask", range: "Melee", color: "Brown", passive: "Happy Hour", q: "Barrel Roll", w: "Drunken Rage", e: "Body Slam", r: "Explosive Cask" },
        { name: "Graves", region: "Runeterra", gender: "Male", weapon: "Shotgun", range: "Ranged", color: "Brown/Red", passive: "New Destiny", q: "End of the Line", w: "Smoke Screen", e: "Quickdraw", r: "Collateral Damage" },
        { name: "Gwen", region: "Shadow Isles", gender: "Female", weapon: "Scissors", range: "Melee", color: "Blue/Teal", passive: "Thousand Cuts", q: "Snip Snip!", w: "Hallowed Mist", e: "Skip 'n Slash", r: "Needlework" },
        { name: "Hecarim", region: "Shadow Isles", gender: "Male", weapon: "Lance", range: "Melee", color: "Ghostly Green", passive: "Warpath", q: "Rampage", w: "Spirit of Dread", e: "Devastating Charge", r: "Onslaught of Shadows" },
        { name: "Heimerdinger", region: "Piltover", gender: "Male", weapon: "Machines", range: "Ranged", color: "Yellow/Gold", passive: "Hextech Affinity", q: "H-28 G Evolution Turret", w: "Hextech Micro-Rockets", e: "CH-2 Electron Storm Grenade", r: "UPGRADE!!!" },
        { name: "Illaoi", region: "Bilgewater", gender: "Female", weapon: "Idol", range: "Melee", color: "Deep Green", passive: "Prophet of an Elder God", q: "Tentacle Smash", w: "Harsh Lesson", e: "Test of Spirit", r: "Leap of Faith" },
        { name: "Irelia", region: "Ionia", gender: "Female", weapon: "Floating Blades", range: "Melee", color: "Pink/Blue", passive: "Ionian Fervor", q: "Bladesurge", w: "Defiant Dance", e: "Flawless Duet", r: "Vanguard's Edge" },
        { name: "Ivern", region: "Runeterra", gender: "Male", weapon: "Nature Magic", range: "Ranged", color: "Bark Brown", passive: "Friend of the Forest", q: "Rootcaller", w: "Brushmaker", e: "Triggerseed", r: "Daisy!" },
        { name: "Janna", region: "Zaun", gender: "Female", weapon: "Staff", range: "Ranged", color: "White/Sky Blue", passive: "Tailwind", q: "Howling Gale", w: "Zephyr", e: "Eye Of The Storm", r: "Monsoon" },
        { name: "Jarvan IV", region: "Demacia", gender: "Male", weapon: "Lance", range: "Melee", color: "Gold/Purple", passive: "Martial Cadence", q: "Dragon Strike", w: "Golden Aegis", e: "Demacian Standard", r: "Cataclysm" },
        { name: "Jax", region: "Runeterra", gender: "Male", weapon: "Lamp Post", range: "Melee", color: "Purple/Indigo", passive: "Relentless Assault", q: "Leap Strike", w: "Empower", e: "Counter Strike", r: "Grandmaster's Might" },
        { name: "Jayce", region: "Piltover", gender: "Male", weapon: "Hammer/Cannon", range: "Melee", color: "Blue/Bronze", passive: "Hextech Capacitor", q: "To the Skies!", w: "Lightning Field", e: "Thundering Blow", r: "Mercury Cannon" },
        { name: "Jhin", region: "Ionia", gender: "Male", weapon: "Whisper (Gun)", range: "Ranged", color: "Red/White", passive: "Whisper", q: "Dancing Grenade", w: "Deadly Flourish", e: "Captive Audience", r: "Curtain Call" },
        { name: "Jinx", region: "Zaun", gender: "Female", weapon: "Minigun/Rocket", range: "Ranged", color: "Hot Pink", passive: "Get Excited!", q: "Switcheroo!", w: "Zap!", e: "Flame Chompers!", r: "Super Mega Death Rocket!" },
        { name: "Kai'Sa", region: "Void", gender: "Female", weapon: "Void Suit", range: "Ranged", color: "Purple/Black", passive: "Second Skin", q: "Icathian Rain", w: "Void Seeker", e: "Supercharge", r: "Killer Instinct" },
        { name: "Kalista", region: "Shadow Isles", gender: "Female", weapon: "Spears", range: "Ranged", color: "Spectral Green", passive: "Martial Poise", q: "Pierce", w: "Sentinel", e: "Rend", r: "Fate's Call" },
        { name: "Karma", region: "Ionia", gender: "Female", weapon: "Soul Magic", range: "Ranged", color: "Emerald", passive: "Gathering Fire", q: "Inner Flame", w: "Focused Resolve", e: "Inspiration", r: "Mantra" },
        { name: "Karthus", region: "Shadow Isles", gender: "Male", weapon: "Staff", range: "Ranged", color: "Cyan/Grey", passive: "Death Defied", q: "Lay Waste", w: "Wall of Pain", e: "Defile", r: "Requiem" },
        { name: "Kassadin", region: "Void", gender: "Male", weapon: "Nether Blade", range: "Melee", color: "Deep Purple", passive: "Void Stone", q: "Null Sphere", w: "Nether Blade", e: "Force Pulse", r: "Riftwalk" },
        { name: "Katarina", region: "Noxus", gender: "Female", weapon: "Daggers", range: "Melee", color: "Dark Crimson", passive: "Voracity", q: "Bouncing Blade", w: "Preparation", e: "Shunpo", r: "Death Lotus" },
        { name: "Kayle", region: "Targon", gender: "Female", weapon: "Energy Blades", range: "Melee", color: "Gold/White", passive: "Divine Ascent", q: "Radiant Blast", w: "Celestial Blessing", e: "Starfire Spellblade", r: "Divine Judgment" },
        { name: "Kayn", region: "Ionia", gender: "Male", weapon: "Scythe", range: "Melee", color: "Blue/Red", passive: "The Darkin Scythe", q: "Reaping Slash", w: "Blade's Reach", e: "Shadow Step", r: "Umbral Trespass" },
        { name: "Kennen", region: "Ionia", gender: "Male", weapon: "Shurikens", range: "Ranged", color: "Purple/Yellow", passive: "Mark of the Storm", q: "Thundering Shuriken", w: "Electrical Surge", e: "Lightning Rush", r: "Slicing Maelstrom" },
        { name: "Kha'Zix", region: "Void", gender: "Male", weapon: "Claws", range: "Melee", color: "Purple/Blue", passive: "Unseen Threat", q: "Taste Their Fear", w: "Void Spike", e: "Leap", r: "Void Assault" },
        { name: "Kindred", region: "Runeterra", gender: "Spirit", weapon: "Bow", range: "Ranged", color: "Lavender/White", passive: "Mark of the Kindred", q: "Dance of Arrows", w: "Wolf's Frenzy", e: "Mounting Dread", r: "Lamb's Respite" },
        { name: "Kled", region: "Noxus", gender: "Male", weapon: "Axe", range: "Melee", color: "Brown/Red", passive: "Skaarl the Cowardly Lizard", q: "Beartrap on a Rope", w: "Violent Tendencies", e: "Jousting", r: "Chaaaaaaaarge!!!" },
        { name: "Kog'Maw", region: "Void", gender: "Male", weapon: "Corrosive Spit", range: "Ranged", color: "Purple/Teal", passive: "Icathian Surprise", q: "Caustic Spittle", w: "Bio-Arcane Barrage", e: "Void Ooze", r: "Living Artillery" },
        { name: "LeBlanc", region: "Noxus", gender: "Female", weapon: "Staff", range: "Ranged", color: "Purple/Yellow", passive: "Mirror Image", q: "Sigil of Malice", w: "Distortion", e: "Ethereal Chains", r: "Mimic" },
        { name: "Lee Sin", region: "Ionia", gender: "Male", weapon: "Fists/Kicks", range: "Melee", color: "Crimson/Yellow", passive: "Flurry", q: "Sonic Wave", w: "Safeguard", e: "Tempest", r: "Dragon's Rage" },
        { name: "Leona", region: "Targon", gender: "Female", weapon: "Sword/Shield", range: "Melee", color: "Gold/Orange", passive: "Sunlight", q: "Shield of Daybreak", w: "Eclipse", e: "Zenith Blade", r: "Solar Flare" },
        { name: "Lillia", region: "Ionia", gender: "Female", weapon: "Magic Staff", range: "Ranged", color: "Pink/Lavender", passive: "Dream-Laden Bough", q: "Blooming Blows", w: "Watch Out! Eep!", e: "Swirlseed", r: "Lilting Lullaby" },
        { name: "Lissandra", region: "Freljord", gender: "Female", weapon: "Ice Magic", range: "Ranged", color: "Deep Blue", passive: "Iceborn Subjugation", q: "Ice Shard", w: "Ring of Frost", e: "Glacial Path", r: "Frozen Tomb" },
        { name: "Lucian", region: "Runeterra", gender: "Male", weapon: "Pistols", range: "Ranged", color: "White/Gold", passive: "Lightslinger", q: "Piercing Light", w: "Ardent Blaze", e: "Relentless Pursuit", r: "The Culling" },
        { name: "Lulu", region: "Bandle City", gender: "Female", weapon: "Wand/Pix", range: "Ranged", color: "Purple/Pink", passive: "Pix, Faerie Companion", q: "Glitterlance", w: "Whimsy", e: "Help, Pix!", r: "Wild Growth" },
        { name: "Lux", region: "Demacia", gender: "Female", weapon: "Light Staff", range: "Ranged", color: "Gold/Light", passive: "Illumination", q: "Light Binding", w: "Prismatic Barrier", e: "Lucent Singularity", r: "Final Spark" },
        { name: "Malphite", region: "Runeterra", gender: "Male", weapon: "Body Parts", range: "Melee", color: "Rock Grey", passive: "Granite Shield", q: "Seismic Shard", w: "Thunderclap", e: "Ground Slam", r: "Unstoppable Force" },
        { name: "Malzahar", region: "Void", gender: "Male", weapon: "Void Magic", range: "Ranged", color: "Purple/Yellow", passive: "Void Shift", q: "Call of the Void", w: "Void Swarm", e: "Malefic Visions", r: "Nether Grasp" },
        { name: "Maokai", region: "Shadow Isles", gender: "Male", weapon: "Nature Limbs", range: "Melee", color: "Deep Green/Brown", passive: "Sap Magic", q: "Bramble Smash", w: "Twisted Advance", e: "Sapling Toss", r: "Nature's Grasp" },
        { name: "Master Yi", region: "Ionia", gender: "Male", weapon: "Blade", range: "Melee", color: "Gold/Green", passive: "Double Strike", q: "Alpha Strike", w: "Meditate", e: "Wuju Style", r: "Highlander" },
        { name: "Milio", region: "Ixtal", gender: "Male", weapon: "Fireballs", range: "Ranged", color: "Orange/Yellow", passive: "Fired Up!", q: "Ultra Mega Firekick", w: "Cozy Campfire", e: "Warm Hugs", r: "Breath of Life" },
        { name: "Miss Fortune", region: "Bilgewater", gender: "Female", weapon: "Pistols", range: "Ranged", color: "Red/White", passive: "Love Tap", q: "Double Up", w: "Strut", e: "Make It Rain", r: "Bullet Time" },
        { name: "Mordekaiser", region: "Shadow Isles", gender: "Male", weapon: "Mace", range: "Melee", color: "Dark Grey/Teal", passive: "Darkness Rise", q: "Obliterate", w: "Indestructible", e: "Death's Grasp", r: "Realm of Death" },
        { name: "Morgana", region: "Runeterra", gender: "Female", weapon: "Dark Magic", range: "Ranged", color: "Deep Purple", passive: "Soul Siphon", q: "Dark Binding", w: "Tormented Shadow", e: "Black Shield", r: "Soul Shackles" },
        { name: "Naafiri", region: "Shurima", gender: "Female", weapon: "Teeth/Claws", range: "Melee", color: "Dark Crimson", passive: "We Are More", q: "Darkin Daggers", w: "Hounds' Pursuit", e: "Eviscerate", r: "The Call of the Pack" },
        { name: "Nami", region: "Runeterra", gender: "Female", weapon: "Water Staff", range: "Ranged", color: "Teal/Blue", passive: "Surging Tides", q: "Aqua Prison", w: "Ebb and Flow", e: "Tidecaller's Blessing", r: "Tidal Wave" },
        { name: "Nasus", region: "Shurima", gender: "Male", weapon: "Heavy Staff", range: "Melee", color: "Gold/Dark Blue", passive: "Soul Eater", q: "Siphoning Strike", w: "Wither", e: "Spirit Fire", r: "Fury of the Sands" },
        { name: "Nautilus", region: "Bilgewater", gender: "Male", weapon: "Anchor", range: "Melee", color: "Rusty Brown", passive: "Staggering Blow", q: "Dredge Line", w: "Titan's Wrath", e: "Riptide", r: "Depth Charge" },
        { name: "Neeko", region: "Ixtal", gender: "Female", weapon: "Orbs", range: "Ranged", color: "Pink/Teal", passive: "Inherent Glamour", q: "Blooming Burst", w: "Shapesplitter", e: "Tangle-Barbs", r: "Pop Blossom" },
        { name: "Nidalee", region: "Ixtal", gender: "Female", weapon: "Spear", range: "Ranged", color: "Brown/Yellow", passive: "Prowl", q: "Javelin Toss", w: "Bushwhack", e: "Primal Surge", r: "Aspect Of The Cougar" },
        { name: "Nilah", region: "Bilgewater", gender: "Female", weapon: "Water Whip", range: "Melee", color: "Dark Blue", passive: "Joy Unending", q: "Formless Blade", w: "Jubilant Veil", e: "Slipstream", r: "Apotheosis" },
        { name: "Nocturne", region: "Runeterra", gender: "Male", weapon: "Arm Blades", range: "Melee", color: "Dark Blue/Black", passive: "Umbra Blades", q: "Duskbringer", w: "Shroud of Darkness", e: "Unspeakable Horror", r: "Paranoia" },
        { name: "Nunu", region: "Freljord", gender: "Male", weapon: "Snowballs", range: "Melee", color: "Blue/White", passive: "Call of the Freljord", q: "Consume", w: "Biggest Snowball Ever!", e: "Snowball Barrage", r: "Absolute Zero" },
        { name: "Olaf", region: "Freljord", gender: "Male", weapon: "Axe", range: "Melee", color: "Orange/Blue", passive: "Berserker Rage", q: "Undertow", w: "Tough It Out", e: "Reckless Swing", r: "Ragnarok" },
        { name: "Orianna", region: "Piltover", gender: "Female", weapon: "Ball", range: "Ranged", color: "Silver/Copper", passive: "Clockwork Windup", q: "Command: Attack", w: "Command: Dissonance", e: "Command: Protect", r: "Command: Shockwave" },
        { name: "Ornn", region: "Freljord", gender: "Male", weapon: "Hammer", range: "Melee", color: "Dark Red/Brown", passive: "Living Forge", q: "Volcanic Rupture", w: "Bellows Breath", e: "Searing Charge", r: "Call of the Forge God" },
        { name: "Pantheon", region: "Targon", gender: "Male", weapon: "Spear/Shield", range: "Melee", color: "Bronze/Teal", passive: "Mortal Will", q: "Comet Spear", w: "Shield Vault", e: "Aegis Assault", r: "Grand Starfall" },
        { name: "Poppy", region: "Demacia", gender: "Female", weapon: "Hammer", range: "Melee", color: "Blue/Gold", passive: "Iron Ambassador", q: "Hammer Shock", w: "Steadfast Presence", e: "Heroic Charge", r: "Keeper's Verdict" },
        { name: "Pyke", region: "Bilgewater", gender: "Male", weapon: "Dagger", range: "Melee", color: "Deep Sea Green", passive: "Gift of the Drowned Ones", q: "Bone Skewer", w: "Ghostwater Dive", e: "Phantom Undertow", r: "Death From Below" },
        { name: "Qiyana", region: "Ixtal", gender: "Female", weapon: "Hoop Blade", range: "Melee", color: "Emerald/Gold", passive: "Royal Privilege", q: "Edge of Ixtal", w: "Terrashape", e: "Audacity", r: "Supreme Display of Talent" },
        { name: "Quinn", region: "Demacia", gender: "Female", weapon: "Crossbow", range: "Ranged", color: "Gold/Purple", passive: "Harrier", q: "Blinding Assault", w: "Heightened Senses", e: "Vault", r: "Behind Enemy Lines" },
        { name: "Rakan", region: "Ionia", gender: "Male", weapon: "Feathers", range: "Melee", color: "Gold/Teal", passive: "Fey Feathers", q: "Gleaming Quill", w: "Grand Entrance", e: "Battle Dance", r: "The Quickness" },
        { name: "Rammus", region: "Shurima", gender: "Male", weapon: "Body Parts", range: "Melee", color: "Tan/Gold", passive: "Spiked Shell", q: "Powerball", w: "Defensive Ball Curl", e: "Frenzying Taunt", r: "Soaring Slam" },
        { name: "Rek'Sai", region: "Void", gender: "Female", weapon: "Claws", range: "Melee", color: "Purple/Teal", passive: "Fury of the Xer'Sai", q: "Queen's Wrath", w: "Burrow", e: "Furious Bite", r: "Void Rush" },
        { name: "Rell", region: "Noxus", gender: "Female", weapon: "Lance", range: "Melee", color: "Grey/Gold", passive: "Break the Mold", q: "Shattering Strike", w: "Ferromancy: Crash Down", e: "Full Tilt", r: "Magnet Storm" },
        { name: "Renata Glasc", region: "Zaun", gender: "Female", weapon: "Chem Device", range: "Ranged", color: "Magenta", passive: "Leverage", q: "Handshake", w: "Bailout", e: "Loyalty Program", r: "Hostile Takeover" },
        { name: "Renekton", region: "Shurima", gender: "Male", weapon: "Blade", range: "Melee", color: "Green/Gold", passive: "Reign of Anger", q: "Cull the Meek", w: "Ruthless Predator", e: "Slice and Dice", r: "Dominus" },
        { name: "Rengar", region: "Runeterra", gender: "Male", weapon: "Claws", range: "Melee", color: "Yellow/Blue", passive: "Unseen Predator", q: "Savagery", w: "Battle Roar", e: "Bola Strike", r: "Thrill of the Hunt" },
        { name: "Riven", region: "Noxus", gender: "Female", weapon: "Heavy Blade", range: "Melee", color: "Emerald/Silver", passive: "Runic Blade", q: "Broken Wings", w: "Ki Burst", e: "Valor", r: "Blade of the Exile" },
        { name: "Rumble", region: "Bandle City", gender: "Male", weapon: "Machine", range: "Ranged", color: "Grey/Silver", passive: "Junkyard Titan", q: "Flamespitter", w: "Scrap Shield", e: "Electro Harpoon", r: "The Equalizer" },
        { name: "Ryze", region: "Runeterra", gender: "Male", weapon: "Spell Tome", range: "Ranged", color: "Deep Blue", passive: "Arcane Mastery", q: "Overload", w: "Rune Prison", e: "Spell Flux", r: "Realm Warp" },
        { name: "Samira", region: "Noxus", gender: "Female", weapon: "Blade & Guns", range: "Ranged", color: "Crimson", passive: "Daredevil Impulse", q: "Flair", w: "Blade Whirl", e: "Wild Rush", r: "Inferno Trigger" },
        { name: "Sejuani", region: "Freljord", gender: "Female", weapon: "Flail", range: "Melee", color: "Ice Blue", passive: "Fury of the North", q: "Arctic Assault", w: "Winter's Wrath", e: "Permafrost", r: "Glacial Prison" },
        { name: "Senna", region: "Shadow Isles", gender: "Female", weapon: "Relic Cannon", range: "Ranged", color: "Teal/White", passive: "Absolution", q: "Piercing Darkness", w: "Last Embrace", e: "Curse of the Black Mist", r: "Dawning Shadow" },
        { name: "Seraphine", region: "Piltover", gender: "Female", weapon: "Magic Staff", range: "Ranged", color: "Pink", passive: "Stage Presence", q: "High Note", w: "Surround Sound", e: "Beat Drop", r: "Encore" },
        { name: "Sett", region: "Ionia", gender: "Male", weapon: "Fists", range: "Melee", color: "Red/Gold", passive: "Pit Grit", q: "Knuckle Down", w: "Haymaker", e: "Facebreaker", r: "The Show Stopper" },
        { name: "Shaco", region: "Runeterra", gender: "Male", weapon: "Daggers", range: "Melee", color: "Crimson/Indigo", passive: "Backstab", q: "Deceive", w: "Jack In The Box", e: "Two-Shiv Poison", r: "Hallucinate" },
        { name: "Shen", region: "Ionia", gender: "Male", weapon: "Spirit Blade", range: "Melee", color: "Blue/Purple", passive: "Ki Barrier", q: "Twilight Assault", w: "Spirit's Refuge", e: "Shadow Dash", r: "Stand United" },
        { name: "Shyvana", region: "Demacia", gender: "Female", weapon: "Claws", range: "Melee", color: "Purple/Red", passive: "Fury of the Dragonborn", q: "Twin Bite", w: "Burnout", e: "Flame Breath", r: "Dragon's Descent" },
        { name: "Singed", region: "Zaun", gender: "Male", weapon: "Chemical Shield", range: "Melee", color: "Green/Brown", passive: "Noxious Slipstream", q: "Poison Trail", w: "Mega Adhesive", e: "Fling", r: "Insanity Potion" },
        { name: "Sion", region: "Noxus", gender: "Male", weapon: "Heavy Axe", range: "Melee", color: "Grey/Red", passive: "Glory in Death", q: "Decimating Smash", w: "Soul Furnace", e: "Roar of the Slayer", r: "Unstoppable Onslaught" },
        { name: "Sivir", region: "Shurima", gender: "Female", weapon: "Thrown Blade", range: "Ranged", color: "Gold/Tan", passive: "Fleet of Foot", q: "Boomerang Blade", w: "Ricochet", e: "Spell Shield", r: "On The Hunt" },
        { name: "Skarner", region: "Shurima", gender: "Male", weapon: "Stinger", range: "Melee", color: "Gold/Tan", passive: "Crystal Spires", q: "Crystal Slash", w: "Crystalline Exoskeleton", e: "Fracture", r: "Impale" },
        { name: "Sona", region: "Demacia", gender: "Female", weapon: "Instrument", range: "Ranged", color: "Teal/Gold", passive: "Power Chord", q: "Hymn of Valor", w: "Aria of Perseverance", e: "Song of Celerity", r: "Crescendo" },
        { name: "Soraka", region: "Targon", gender: "Female", weapon: "Staff", range: "Ranged", color: "Purple/Yellow", passive: "Salvation", q: "Starcall", w: "Astral Infusion", e: "Equinox", r: "Wish" },
        { name: "Swain", region: "Noxus", gender: "Male", weapon: "Demonic Magic", range: "Ranged", color: "Red/Black", passive: "Ravenous Flock", q: "Death's Hand", w: "Vision of Empire", e: "Nevermove", r: "Demonic Ascension" },
        { name: "Sylas", region: "Demacia", gender: "Male", weapon: "Chains", range: "Melee", color: "Teal/Yellow", passive: "Petricite Burst", q: "Chain Lash", w: "Kingslayer", e: "Abscond / Abduct", r: "Hijack" },
        { name: "Syndra", region: "Ionia", gender: "Female", weapon: "Energy Spheres", range: "Ranged", color: "Deep Purple", passive: "Transcendent", q: "Dark Sphere", w: "Force of Will", e: "Scatter the Weak", r: "Unleashed Power" },
        { name: "Tahm Kench", region: "Runeterra", gender: "Male", weapon: "Tongue", range: "Melee", color: "Mud Green", passive: "An Acquired Taste", q: "Tongue Lash", w: "Abyssal Dive", e: "Thick Skin", r: "Devour" },
        { name: "Taliyah", region: "Shurima", gender: "Female", weapon: "Earth Magic", range: "Ranged", color: "Earth Brown", passive: "Rock Surfing", q: "Threaded Volley", w: "Seismic Shove", e: "Unraveled Earth", r: "Weaver's Wall" },
        { name: "Talon", region: "Noxus", gender: "Male", weapon: "Blades", range: "Melee", color: "Silver/Red", passive: "Blade's End", q: "Noxian Diplomacy", w: "Rake", e: "Assassin's Path", r: "Shadow Assault" },
        { name: "Taric", region: "Targon", gender: "Male", weapon: "Crystal Shield", range: "Melee", color: "Light Blue", passive: "Bravery", q: "Starlight's Touch", w: "Bastion", e: "Dazzle", r: "Cosmic Radiance" },
        { name: "Teemo", region: "Bandle City", gender: "Male", weapon: "Blowgun", range: "Ranged", color: "Dark Green", passive: "Guerilla Warfare", q: "Blinding Dart", w: "Move Quick", e: "Toxic Shot", r: "Noxious Trap" },
        { name: "Thresh", region: "Shadow Isles", gender: "Male", weapon: "Chain Weapon", range: "Ranged", color: "Cyan/Grey", passive: "Damnation", q: "Death Sentence", w: "Dark Passage", e: "Flay", r: "The Box" },
        { name: "Tristana", region: "Bandle City", gender: "Female", weapon: "Cannon", range: "Ranged", color: "Indigo/Pink", passive: "Draw a Bead", q: "Rapid Fire", w: "Rocket Jump", e: "Explosive Charge", r: "Buster Shot" },
        { name: "Trundle", region: "Freljord", gender: "Male", weapon: "Ice Club", range: "Melee", color: "Ice Blue", passive: "King's Tribute", q: "Chomp", w: "Frozen Domain", e: "Pillar of Ice", r: "Subjugate" },
        { name: "Tryndamere", region: "Freljord", gender: "Male", weapon: "Heavy Blade", range: "Melee", color: "Grey/Blue", passive: "Battle Fury", q: "Bloodlust", w: "Mocking Shout", e: "Spinning Slash", r: "Undying Rage" },
        { name: "Twisted Fate", region: "Bilgewater", gender: "Male", weapon: "Cards", range: "Ranged", color: "Gold/Brown", passive: "Loaded Dice", q: "Wild Cards", w: "Pick a Card", e: "Stacked Deck", r: "Destiny" },
        { name: "Twitch", region: "Zaun", gender: "Male", weapon: "Crossbow", range: "Ranged", color: "Poison Green", passive: "Deadly Venom", q: "Ambush", w: "Venom Cask", e: "Contaminate", r: "Spray and Pray" },
        { name: "Udyr", region: "Freljord", gender: "Male", weapon: "Fists", range: "Melee", color: "Brown/Amber", passive: "Bridge Between Worlds", q: "Wilding Claw", w: "Iron Mantle", e: "Blazing Stampede", r: "Wingborne Storm" },
        { name: "Urgot", region: "Zaun", gender: "Male", weapon: "Machine", range: "Ranged", color: "Rusty Green", passive: "Echoing Flames", q: "Corrosive Charge", w: "Purge", e: "Disdain", r: "Fear Beyond Death" },
        { name: "Varus", region: "Runeterra", gender: "Male", weapon: "Bow", range: "Ranged", color: "Purple/Red", passive: "Living Vengeance", q: "Piercing Arrow", w: "Blighted Quiver", e: "Hail of Arrows", r: "Chain of Corruption" },
        { name: "Vayne", region: "Demacia", gender: "Female", weapon: "Crossbow", range: "Ranged", color: "Silver/Purple", passive: "Night Hunter", q: "Tumble", w: "Silver Bolts", e: "Condemn", r: "Final Hour" },
        { name: "Veigar", region: "Bandle City", gender: "Male", weapon: "Staff", range: "Ranged", color: "Deep Blue/Indigo", passive: "Phenomenal Evil Power", q: "Baleful Strike", w: "Dark Matter", e: "Event Horizon", r: "Primordial Burst" },
        { name: "Vel'Koz", region: "Void", gender: "Male", weapon: "Energy Eye", range: "Ranged", color: "Purple/Yellow", passive: "Organic Deconstruction", q: "Plasma Fission", w: "Void Rift", e: "Tectonic Disruption", r: "Life Form Disintegration Ray" },
        { name: "Vex", region: "Shadow Isles", gender: "Female", weapon: "Shadow", range: "Ranged", color: "Grey/Black", passive: "Doom 'n Gloom", q: "Mistral Bolt", w: "Personal Space", e: "Looming Darkness", r: "Shadow Surge" },
        { name: "Vi", region: "Piltover", gender: "Female", weapon: "Gauntlets", range: "Melee", color: "Pink/Silver", passive: "Blast Shield", q: "Vault Breaker", w: "Denting Blows", e: "Relentless Force", r: "Cease and Desist" },
        { name: "Viego", region: "Shadow Isles", gender: "Male", weapon: "Heavy Blade", range: "Melee", color: "Teal/Black", passive: "Sovereign's Domination", q: "Blade of the Ruined King", w: "Spectral Maw", e: "Harrowed Path", r: "Heartbreaker" },
        { name: "Viktor", region: "Zaun", gender: "Male", weapon: "Staff", range: "Ranged", color: "Rusty Gold", passive: "Glorious Evolution", q: "Siphon Power", w: "Gravity Field", e: "Death Ray", r: "Chaos Storm" },
        { name: "Vladimir", region: "Noxus", gender: "Male", weapon: "Blood Magic", range: "Ranged", color: "Blood Red", passive: "Crimson Pact", q: "Transfusion", w: "Sanguine Pool", e: "Tides of Blood", r: "Hemoplague" },
        { name: "Volibear", region: "Freljord", gender: "Male", weapon: "Claws", range: "Melee", color: "White/Lightning", passive: "The Relentless Storm", q: "Thundering Smash", w: "Frenzied Maul", e: "Sky Splitter", r: "Stormbringer" },
        { name: "Warwick", region: "Zaun", gender: "Male", weapon: "Claws", range: "Melee", color: "Green/Grey", passive: "Eternal Hunger", q: "Jaws of the Beast", w: "Blood Hunt", e: "Primal Howl", r: "Infinite Duress" },
        { name: "Wukong", region: "Ionia", gender: "Male", weapon: "Pole", range: "Melee", color: "Gold/Brown", passive: "Stone Skin", q: "Crushing Blow", w: "Warrior Trickster", e: "Nimbus Strike", r: "Cyclone" },
        { name: "Xayah", region: "Ionia", gender: "Female", weapon: "Feathers", range: "Ranged", color: "Pink/Magenta", passive: "Clean Cuts", q: "Double Daggers", w: "Deadly Plumage", e: "Bladecaller", r: "Featherstorm" },
        { name: "Xerath", region: "Shurima", gender: "Male", weapon: "Energy", range: "Ranged", color: "Cyan/Blue", passive: "Mana Surge", q: "Arcanopulse", w: "Eye of Destruction", e: "Shocking Orb", r: "Rite of the Arcane" },
        { name: "Xin Zhao", region: "Demacia", gender: "Male", weapon: "Spear", range: "Melee", color: "Silver/Blue", passive: "Determination", q: "Three Talon Strike", w: "Wind Becomes Lightning", e: "Audacious Charge", r: "Crescent Guard" },
        { name: "Yasuo", region: "Ionia", gender: "Male", weapon: "Blade", range: "Melee", color: "Blue/Grey", passive: "Way of the Wanderer", q: "Steel Tempest", w: "Wind Wall", e: "Sweeping Blade", r: "Last Breath" },
        { name: "Yone", region: "Ionia", gender: "Male", weapon: "Dual Blades", range: "Melee", color: "Blue/Red", passive: "Way of the Hunter", q: "Mortal Steel", w: "Spirit Cleave", e: "Soul Unbound", r: "Fate Sealed" },
        { name: "Yorick", region: "Shadow Isles", gender: "Male", weapon: "Shovel", range: "Melee", color: "Dark Green", passive: "Shepherd of Souls", q: "Last Rite", w: "Dark Procession", e: "Mourning Mist", r: "Eulogy of the Isles" },
        { name: "Yuumi", region: "Bandle City", gender: "Female", weapon: "Magic Book", range: "Ranged", color: "Pink/Blue", passive: "Bop 'n' Block", q: "Prowling Projectile", w: "You and Me!", e: "Zoomies", r: "Final Chapter" },
        { name: "Zac", region: "Zaun", gender: "Male", weapon: "Body Limbs", range: "Melee", color: "Green", passive: "Cell Division", q: "Stretching Strikes", w: "Unstable Matter", e: "Elastic Slingshot", r: "Let's Bounce!" },
        { name: "Zed", region: "Ionia", gender: "Male", weapon: "Blades", range: "Melee", color: "Red/Black", passive: "Contempt for the Weak", q: "Razor Shuriken", w: "Living Shadow", e: "Shadow Slash", r: "Death Mark" },
        { name: "Zeri", region: "Zaun", gender: "Female", weapon: "Handgun", range: "Ranged", color: "Neon Green", passive: "Living Battery", q: "Burst Fire", w: "Ultrashock Laser", e: "Spark Surge", r: "Lightning Crash" },
        { name: "Ziggs", region: "Zaun", gender: "Male", weapon: "Explosives", range: "Ranged", color: "Orange/Brown", passive: "Short Fuse", q: "Bouncing Bomb", w: "Satchel Charge", e: "Hexplosive Minefield", r: "Mega Inferno Bomb" },
        { name: "Zilean", region: "Runeterra", gender: "Male", weapon: "Time Bombs", range: "Ranged", color: "Gold/Blue", passive: "Time In A Bottle", q: "Time Bomb", w: "Rewind", e: "Time Warp", r: "Chronoshift" },
        { name: "Zoe", region: "Targon", gender: "Female", weapon: "Magic Stars", range: "Ranged", color: "Rainbow/Pink", passive: "More Sparkles!", q: "Paddle Star", w: "Spell Thief", e: "Sleepy Trouble Bubble", r: "Portal Jump" },
        { name: "Zyra", region: "Runeterra", gender: "Female", weapon: "Vines", range: "Ranged", color: "Dark Green/Purple", passive: "Garden of Thorns", q: "Deadly Spines", w: "Rampant Growth", e: "Grasping Vines", r: "Stranglethorns" }
    ];

    function showSetup() {
        document.getElementById("ui-content").innerHTML = `
            <h1>Lobby</h1>
            <input type="text" id="name-input" placeholder="SUMMONER NAME">
            <button onclick="addPlayer()">ADD</button>
            <div class="player-list">${players.map(p => `â€¢ ${p}`).join("<br>")}</div>
            <div style="margin-top:20px;">
                <label>CLUES FOR IMPOSTOR:</label><br>
                <select id="clue-select">
                    <option value="1">1 CLUE</option>
                    <option value="2">2 CLUES</option>
                    <option value="3">3 CLUES</option>
                    <option value="4">4 CLUES</option>
                </select>
            </div>
            <button id="start-btn" class="${players.length < 3 ? 'hidden' : ''}" onclick="startGame()">START MATCH</button>
        `;
    }

    function addPlayer() {
        const input = document.getElementById("name-input");
        const name = input.value.trim().toUpperCase();
        if (name) { players.push(name); input.value = ""; showSetup(); }
    }

    function startGame() {
        clueCount = parseInt(document.getElementById("clue-select").value);
        targetChamp = CHAMPION_POOL[Math.floor(Math.random() * CHAMPION_POOL.length)];
        impostorIndex = Math.floor(Math.random() * players.length);
        currentPlayerIndex = 0;
        showReveal();
    }

    function showReveal() {
        document.getElementById("ui-content").innerHTML = `
            <h2 style="color: var(--gold)">${players[currentPlayerIndex]}, IT IS YOUR TURN</h2>
            <div id="secret-content" class="hidden"><div class="secret-box" id="role-data"></div></div>
            <button id="show-btn" onclick="revealRole()">VIEW ROLE</button>
        `;
    }

    function revealRole() {
        document.getElementById("show-btn").classList.add("hidden");
        const roleData = document.getElementById("role-data");
        document.getElementById("secret-content").classList.remove("hidden");

        if (currentPlayerIndex === impostorIndex) {
            const hPool = [
                `REGION: ${targetChamp.region}`, `WEAPON: ${targetChamp.weapon}`, 
                `GENDER: ${targetChamp.gender}`, `PRIMARY COLOR: ${targetChamp.color}`, 
                `PASSIVE: ${targetChamp.passive}`, `Q ABILITY: ${targetChamp.q}`,
                `W ABILITY: ${targetChamp.w}`, `E ABILITY: ${targetChamp.e}`,
                `R (ULT): ${targetChamp.r}`, `RANGE: ${targetChamp.range}`
            ];
            const selected = [];
            while(selected.length < clueCount) {
                const r = hPool[Math.floor(Math.random() * hPool.length)];
                if(!selected.includes(r)) selected.push(r);
            }
            roleData.innerHTML = `<h3>IMPOSTOR</h3><p>${selected.join("<br><br>")}</p>`;
        } else {
            const imgName = targetChamp.name.replace(/[^a-zA-Z]/g, '');
            roleData.innerHTML = `<h3>CREW</h3><img src="https://ddragon.leagueoflegends.com/cdn/13.24.1/img/champion/${imgName}.png"><br><b>${targetChamp.name}</b>`;
        }
        setTimeout(() => { 
            currentPlayerIndex++; 
            if (currentPlayerIndex < players.length) showReveal(); 
            else showDiscussion(); 
        }, 5000);
    }

    function showDiscussion() {
        const speaker = players[Math.floor(Math.random() * players.length)];
        document.getElementById("ui-content").innerHTML = `
            <h1>Discussion</h1>
            <div class="speaker-alert">FIRST SPEAKER: ${speaker}</div>
            <button onclick="showVoting()">VOTING PHASE</button>
        `;
    }

    function showVoting() {
        votes = {}; players.forEach((_, i) => votes[i] = 0); totalVotesCast = 0;
        renderVotingUI();
    }

    function renderVotingUI() {
        const remaining = players.length - totalVotesCast;
        document.getElementById("ui-content").innerHTML = `
            <h1>Voting</h1>
            <p style="color: var(--gold); font-size: 0.8rem;">${remaining} VOTES REMAINING</p>
            <div id="vote-rows"></div>
            <button id="finalize-btn" class="${totalVotesCast === players.length ? '' : 'hidden'}" style="width:100%; margin-top:20px;" onclick="finalizeResult()">FINALIZE RESULTS</button>
        `;
        document.getElementById("vote-rows").innerHTML = players.map((p, i) => `
            <div class="vote-row">
                <span>${p}</span>
                <div>
                    <button onclick="changeVote(${i}, -1)" ${votes[i] === 0 ? 'disabled' : ''}>-</button>
                    <span style="margin: 0 15px; font-weight: bold;">${votes[i]}</span>
                    <button onclick="changeVote(${i}, 1)" ${totalVotesCast === players.length ? 'disabled' : ''}>+</button>
                </div>
            </div>
        `).join("");
    }

    function changeVote(idx, delta) {
        if (delta > 0 && totalVotesCast < players.length) { votes[idx]++; totalVotesCast++; }
        else if (delta < 0 && votes[idx] > 0) { votes[idx]--; totalVotesCast--; }
        renderVotingUI();
    }

    function finalizeResult() {
        let winners = []; let max = -1;
        for (let i in votes) {
            if (votes[i] > max) { max = votes[i]; winners = [i]; }
            else if (votes[i] === max) winners.push(i);
        }
        if (winners.length > 1) { alert("TIE! RE-VOTING..."); showVoting(); return; }
        const win = parseInt(winners[0]) === impostorIndex;
        document.getElementById("ui-content").innerHTML = `
            <h1 style="color: var(--gold);">${win ? 'VICTORY' : 'DEFEAT'}</h1>
            <p>${players[winners[0]]} WAS ELIMINATED</p>
            <p>IMPOSTOR: ${players[impostorIndex]}</p>
            <p>CHAMPION: ${targetChamp.name}</p>
            <button onclick="startGame()">REPLAY</button>
            <button onclick="players=[]; showSetup();">NEW LOBBY</button>
        `;
    }
    showSetup();
</script>
</body>
</html>
